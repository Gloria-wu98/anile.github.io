{\rtf1\ansi\ansicpg950\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;\red227\green255\blue255;\red71\green138\blue206;
\red141\green213\blue254;\red203\green203\blue202;\red109\green109\blue109;\red194\green125\blue100;\red109\green115\blue120;
\red184\green113\blue248;\red212\green212\blue212;\red112\green192\blue130;\red167\green197\blue151;\red54\green192\blue160;
\red245\green123\blue47;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;\cssrgb\c91098\c100000\c100000;\cssrgb\c34146\c61677\c84338;
\cssrgb\c61545\c86704\c99884;\cssrgb\c83320\c83320\c83112;\cssrgb\c50307\c50306\c50181;\cssrgb\c80772\c56796\c46790;\cssrgb\c50336\c52696\c54531;
\cssrgb\c77746\c54642\c98035;\cssrgb\c86465\c86464\c86248;\cssrgb\c50437\c78684\c58115;\cssrgb\c71035\c80830\c65726;\cssrgb\c23989\c78963\c69075;
\cssrgb\c97756\c56070\c23668;}
\paperw11900\paperh16840\margl1440\margr1440\vieww12720\viewh7240\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs28 \cf2 \cb3 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec4 <!DOCTYPE\cb3 \strokec5  html\cb3 \strokec4 >\cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec7 <\cb3 \strokec4 html\cb3 \strokec6  \cb3 \strokec5 lang\cb3 \strokec7 =\cb3 \strokec8 "zh-Hant"\cb3 \strokec7 >\cb3 \strokec6 \
\cb3 \strokec7 <\cb3 \strokec4 head\cb3 \strokec7 >\cb3 \strokec6 \
    \cb3 \strokec7 <\cb3 \strokec4 meta\cb3 \strokec6  \cb3 \strokec5 charset\cb3 \strokec7 =\cb3 \strokec8 "UTF-8"\cb3 \strokec7 >\cb3 \strokec6 \
    \cb3 \strokec7 <\cb3 \strokec4 meta\cb3 \strokec6  \cb3 \strokec5 name\cb3 \strokec7 =\cb3 \strokec8 "viewport"\cb3 \strokec6  \cb3 \strokec5 content\cb3 \strokec7 =\cb3 \strokec8 "width=device-width, initial-scale=1.0"\cb3 \strokec7 >\cb3 \strokec6 \
    \cb3 \strokec7 <\cb3 \strokec4 title\cb3 \strokec7 >\cb3 \strokec6 Gloria\uc0\u30340 \u23612 \u32645 \u27827 \u22899 \u20818 \u28459 \u30059 \u23553 \u38754 \u29986 \u29983 \u22120 \cb3 \strokec7 </\cb3 \strokec4 title\cb3 \strokec7 >\cb3 \strokec6 \
    \cb3 \strokec9 <!-- Include Tailwind CSS for styling -->\cb3 \strokec6 \
    \cb3 \strokec7 <\cb3 \strokec4 script\cb3 \strokec6  \cb3 \strokec5 src\cb3 \strokec7 =\cb3 \strokec8 "https://cdn.tailwindcss.com"\cb3 \strokec7 ></\cb3 \strokec4 script\cb3 \strokec7 >\cb3 \strokec6 \
    \cb3 \strokec7 <\cb3 \strokec4 style\cb3 \strokec7 >\cb3 \strokec6 \
        \cb3 \strokec9 /* Custom font for better appearance */\cb3 \strokec6 \
        \cb3 \strokec10 @import\cb3 \strokec6  \cb3 \strokec8 url\cb3 \strokec11 (\cb3 \strokec12 'https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap'\cb3 \strokec11 );\cb3 \strokec6 \
        \cb3 \strokec4 body\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
            \cb3 \strokec5 font-family:\cb3 \strokec6  \cb3 \strokec12 'Inter'\cb3 \strokec11 ,\cb3 \strokec6  \cb3 \strokec12 'sans-serif'\cb3 \strokec11 ;\cb3 \strokec6 \
        \cb3 \strokec11 \}\cb3 \strokec6 \
        \cb3 \strokec9 /* Custom animation for the loader */\cb3 \strokec6 \
        \cb3 \strokec4 .animate-spin\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
            \cb3 \strokec5 animation:\cb3 \strokec6  \cb3 \strokec8 spin\cb3 \strokec6  \cb3 \strokec13 1s\cb3 \strokec6  \cb3 \strokec8 linear\cb3 \strokec6  \cb3 \strokec8 infinite\cb3 \strokec11 ;\cb3 \strokec6 \
        \cb3 \strokec11 \}\cb3 \strokec6 \
        \cb3 \strokec10 @keyframes\cb3 \strokec6  \cb3 \strokec8 spin\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
            \cb3 \strokec8 from\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                \cb3 \strokec5 transform:\cb3 \strokec6  \cb3 \strokec8 rotate(\cb3 \strokec13 0deg\cb3 \strokec8 )\cb3 \strokec11 ;\cb3 \strokec6 \
            \cb3 \strokec11 \}\cb3 \strokec6 \
            \cb3 \strokec8 to\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                \cb3 \strokec5 transform:\cb3 \strokec6  \cb3 \strokec8 rotate(\cb3 \strokec13 360deg\cb3 \strokec8 )\cb3 \strokec11 ;\cb3 \strokec6 \
            \cb3 \strokec11 \}\cb3 \strokec6 \
        \cb3 \strokec11 \}\cb3 \strokec6 \
    \cb3 \strokec7 </\cb3 \strokec4 style\cb3 \strokec7 >\cb3 \strokec6 \
\cb3 \strokec7 </\cb3 \strokec4 head\cb3 \strokec7 >\cb3 \strokec6 \
\cb3 \strokec7 <\cb3 \strokec4 body\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "bg-gray-900 text-white"\cb3 \strokec7 >\cb3 \strokec6 \
\
    \cb3 \strokec7 <\cb3 \strokec4 div\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "min-h-screen flex flex-col items-center p-4"\cb3 \strokec7 >\cb3 \strokec6 \
        \cb3 \strokec7 <\cb3 \strokec4 div\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "w-full max-w-2xl mx-auto"\cb3 \strokec7 >\cb3 \strokec6 \
            \
            \cb3 \strokec9 <!-- Header Section -->\cb3 \strokec6 \
            \cb3 \strokec7 <\cb3 \strokec4 header\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "text-center my-8"\cb3 \strokec7 >\cb3 \strokec6 \
                \cb3 \strokec7 <\cb3 \strokec4 h1\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-amber-400 to-yellow-500"\cb3 \strokec7 >\cb3 \strokec6 \
                    Gloria\uc0\u30340 \u23612 \u32645 \u27827 \u22899 \u20818 \u28459 \u30059 \u23553 \u38754 \u29986 \u29983 \u22120 \
                \cb3 \strokec7 </\cb3 \strokec4 h1\cb3 \strokec7 >\cb3 \strokec6 \
                \cb3 \strokec7 <\cb3 \strokec4 p\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "text-gray-400 mt-4"\cb3 \strokec7 >\cb3 \strokec6 \
                    \uc0\u36664 \u20837 \u24744 \u30340 \u38728 \u24863 \u65292 AI \u23559 \u28858 \u24744 \u32362 \u35069 \u19968 \u24373 \u32147 \u20856 \u39080 \u26684 \u30340 \u12300 \u23612 \u32645 \u27827 \u22899 \u20818 \u12301 \u28459 \u30059 \u23553 \u38754 \u12290 \
                \cb3 \strokec7 </\cb3 \strokec4 p\cb3 \strokec7 >\cb3 \strokec6 \
            \cb3 \strokec7 </\cb3 \strokec4 header\cb3 \strokec7 >\cb3 \strokec6 \
\
            \cb3 \strokec9 <!-- Main Content -->\cb3 \strokec6 \
            \cb3 \strokec7 <\cb3 \strokec4 main\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "flex flex-col items-center gap-6"\cb3 \strokec7 >\cb3 \strokec6 \
                \cb3 \strokec9 <!-- Prompt Input Area -->\cb3 \strokec6 \
                \cb3 \strokec7 <\cb3 \strokec4 div\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "w-full"\cb3 \strokec7 >\cb3 \strokec6 \
                    \cb3 \strokec7 <\cb3 \strokec4 textarea\cb3 \strokec6  \cb3 \strokec5 id\cb3 \strokec7 =\cb3 \strokec8 "prompt-input"\cb3 \strokec6  \cb3 \strokec5 placeholder\cb3 \strokec7 =\cb3 \strokec8 "\uc0\u20363 \u22914 \u65306 \u20977 \u32645 \u29246 \u33287 \u26364 \u33778 \u22763 \u22312 \u23612 \u32645 \u27827 \u30036 \u28145 \u24773 \u30456 \u25793 \u65292 \u32972 \u26223 \u26159 \u22805 \u38525 \u19979 \u30340 \u37329 \u23383 \u22612 "\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "w-full h-28 p-4 bg-gray-800 border-2 border-gray-700 rounded-lg focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-colors"\cb3 \strokec7 ></\cb3 \strokec4 textarea\cb3 \strokec7 >\cb3 \strokec6 \
                \cb3 \strokec7 </\cb3 \strokec4 div\cb3 \strokec7 >\cb3 \strokec6 \
\
                \cb3 \strokec9 <!-- Generate Button -->\cb3 \strokec6 \
                \cb3 \strokec7 <\cb3 \strokec4 button\cb3 \strokec6  \cb3 \strokec5 id\cb3 \strokec7 =\cb3 \strokec8 "generate-btn"\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "w-full md:w-auto px-8 py-3 bg-gradient-to-r from-amber-500 to-yellow-500 text-gray-900 font-bold rounded-lg shadow-lg hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 transition-transform duration-300"\cb3 \strokec7 >\cb3 \strokec6 \
                    \uc0\u38283 \u22987 \u29983 \u25104 \u23553 \u38754 \
                \cb3 \strokec7 </\cb3 \strokec4 button\cb3 \strokec7 >\cb3 \strokec6 \
\
                \cb3 \strokec9 <!-- Error Message Display -->\cb3 \strokec6 \
                \cb3 \strokec7 <\cb3 \strokec4 p\cb3 \strokec6  \cb3 \strokec5 id\cb3 \strokec7 =\cb3 \strokec8 "error-message"\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "text-red-400 mt-4"\cb3 \strokec7 ></\cb3 \strokec4 p\cb3 \strokec7 >\cb3 \strokec6 \
\
                \cb3 \strokec9 <!-- Results Section -->\cb3 \strokec6 \
                \cb3 \strokec7 <\cb3 \strokec4 div\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "w-full mt-8 flex flex-col items-center gap-8"\cb3 \strokec7 >\cb3 \strokec6 \
                    \cb3 \strokec9 <!-- Loading Spinner -->\cb3 \strokec6 \
                    \cb3 \strokec7 <\cb3 \strokec4 div\cb3 \strokec6  \cb3 \strokec5 id\cb3 \strokec7 =\cb3 \strokec8 "loader"\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "hidden flex-col items-center justify-center gap-4"\cb3 \strokec7 >\cb3 \strokec6 \
                        \cb3 \strokec7 <\cb3 \strokec4 div\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "w-16 h-16 border-4 border-dashed rounded-full animate-spin border-amber-400"\cb3 \strokec7 ></\cb3 \strokec4 div\cb3 \strokec7 >\cb3 \strokec6 \
                        \cb3 \strokec7 <\cb3 \strokec4 p\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "text-gray-300"\cb3 \strokec7 >\cb3 \strokec6 AI \uc0\u27491 \u22312 \u31359 \u36234 \u26178 \u31354 \u65292 \u20840 \u21147 \u32362 \u35069 \u20013 ...\cb3 \strokec7 </\cb3 \strokec4 p\cb3 \strokec7 >\cb3 \strokec6 \
                    \cb3 \strokec7 </\cb3 \strokec4 div\cb3 \strokec7 >\cb3 \strokec6 \
                    \
                    \cb3 \strokec9 <!-- Generated Image and Prompt Display -->\cb3 \strokec6 \
                    \cb3 \strokec7 <\cb3 \strokec4 div\cb3 \strokec6  \cb3 \strokec5 id\cb3 \strokec7 =\cb3 \strokec8 "result-container"\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "hidden w-full max-w-sm bg-gray-800 rounded-lg shadow-2xl p-4 border border-gray-700"\cb3 \strokec7 >\cb3 \strokec6 \
                        \cb3 \strokec7 <\cb3 \strokec4 img\cb3 \strokec6  \cb3 \strokec5 id\cb3 \strokec7 =\cb3 \strokec8 "result-image"\cb3 \strokec6  \cb3 \strokec5 src\cb3 \strokec7 =\cb3 \strokec8 ""\cb3 \strokec6  \cb3 \strokec5 alt\cb3 \strokec7 =\cb3 \strokec8 "Generated 'Crest of the Royal Family' style cover"\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "w-full rounded-md object-contain"\cb3 \strokec7 />\cb3 \strokec6 \
                        \cb3 \strokec7 <\cb3 \strokec4 div\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "mt-4"\cb3 \strokec7 >\cb3 \strokec6 \
                            \cb3 \strokec7 <\cb3 \strokec4 h3\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "text-lg font-bold text-amber-300"\cb3 \strokec7 >\cb3 \strokec6 \uc0\u20778 \u21270 \u24460 \u30340 \u33521 \u25991 \u25552 \u31034 \u35422 \u65306 \cb3 \strokec7 </\cb3 \strokec4 h3\cb3 \strokec7 >\cb3 \strokec6 \
                            \cb3 \strokec7 <\cb3 \strokec4 p\cb3 \strokec6  \cb3 \strokec5 id\cb3 \strokec7 =\cb3 \strokec8 "optimized-prompt"\cb3 \strokec6  \cb3 \strokec5 class\cb3 \strokec7 =\cb3 \strokec8 "text-gray-300 bg-gray-900 p-3 rounded-md mt-2 text-sm"\cb3 \strokec7 ></\cb3 \strokec4 p\cb3 \strokec7 >\cb3 \strokec6 \
                        \cb3 \strokec7 </\cb3 \strokec4 div\cb3 \strokec7 >\cb3 \strokec6 \
                    \cb3 \strokec7 </\cb3 \strokec4 div\cb3 \strokec7 >\cb3 \strokec6 \
                \cb3 \strokec7 </\cb3 \strokec4 div\cb3 \strokec7 >\cb3 \strokec6 \
            \cb3 \strokec7 </\cb3 \strokec4 main\cb3 \strokec7 >\cb3 \strokec6 \
        \cb3 \strokec7 </\cb3 \strokec4 div\cb3 \strokec7 >\cb3 \strokec6 \
    \cb3 \strokec7 </\cb3 \strokec4 div\cb3 \strokec7 >\cb3 \strokec6 \
\
    \cb3 \strokec7 <\cb3 \strokec4 script\cb3 \strokec6  \cb3 \strokec5 type\cb3 \strokec7 =\cb3 \strokec8 "module"\cb3 \strokec7 >\cb3 \strokec6 \
        \cb3 \strokec9 // Get references to all the necessary DOM elements\cb3 \strokec6 \
        \cb3 \strokec10 const\cb3 \strokec6  promptInput \cb3 \strokec11 =\cb3 \strokec6  document\cb3 \strokec11 .\cb3 \strokec6 getElementById\cb3 \strokec11 (\cb3 \strokec12 'prompt-input'\cb3 \strokec11 );\cb3 \strokec6 \
        \cb3 \strokec10 const\cb3 \strokec6  generateBtn \cb3 \strokec11 =\cb3 \strokec6  document\cb3 \strokec11 .\cb3 \strokec6 getElementById\cb3 \strokec11 (\cb3 \strokec12 'generate-btn'\cb3 \strokec11 );\cb3 \strokec6 \
        \cb3 \strokec10 const\cb3 \strokec6  errorMessage \cb3 \strokec11 =\cb3 \strokec6  document\cb3 \strokec11 .\cb3 \strokec6 getElementById\cb3 \strokec11 (\cb3 \strokec12 'error-message'\cb3 \strokec11 );\cb3 \strokec6 \
        \cb3 \strokec10 const\cb3 \strokec6  loader \cb3 \strokec11 =\cb3 \strokec6  document\cb3 \strokec11 .\cb3 \strokec6 getElementById\cb3 \strokec11 (\cb3 \strokec12 'loader'\cb3 \strokec11 );\cb3 \strokec6 \
        \cb3 \strokec10 const\cb3 \strokec6  resultContainer \cb3 \strokec11 =\cb3 \strokec6  document\cb3 \strokec11 .\cb3 \strokec6 getElementById\cb3 \strokec11 (\cb3 \strokec12 'result-container'\cb3 \strokec11 );\cb3 \strokec6 \
        \cb3 \strokec10 const\cb3 \strokec6  resultImage \cb3 \strokec11 =\cb3 \strokec6  document\cb3 \strokec11 .\cb3 \strokec6 getElementById\cb3 \strokec11 (\cb3 \strokec12 'result-image'\cb3 \strokec11 );\cb3 \strokec6 \
        \cb3 \strokec10 const\cb3 \strokec6  optimizedPrompt \cb3 \strokec11 =\cb3 \strokec6  document\cb3 \strokec11 .\cb3 \strokec6 getElementById\cb3 \strokec11 (\cb3 \strokec12 'optimized-prompt'\cb3 \strokec11 );\cb3 \strokec6 \
\
        \cb3 \strokec9 // Main function to handle the image generation process\cb3 \strokec6 \
        \cb3 \strokec10 const\cb3 \strokec6  handleGenerate \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec10 async\cb3 \strokec6  \cb3 \strokec11 ()\cb3 \strokec6  \cb3 \strokec11 =>\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
            \cb3 \strokec10 const\cb3 \strokec6  prompt \cb3 \strokec11 =\cb3 \strokec6  promptInput\cb3 \strokec11 .\cb3 \strokec6 value\cb3 \strokec11 ;\cb3 \strokec6 \
            \cb3 \strokec10 if\cb3 \strokec6  \cb3 \strokec11 (!\cb3 \strokec6 prompt\cb3 \strokec11 )\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                errorMessage\cb3 \strokec11 .\cb3 \strokec6 textContent \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec12 '\uc0\u35531 \u20808 \u36664 \u20837 \u24744 \u30340 \u23553 \u38754 \u24819 \u27861 \u65281 '\cb3 \strokec11 ;\cb3 \strokec6 \
                \cb3 \strokec10 return\cb3 \strokec11 ;\cb3 \strokec6 \
            \cb3 \strokec11 \}\cb3 \strokec6 \
            \
            \cb3 \strokec9 // Reset UI state for a new generation\cb3 \strokec6 \
            errorMessage\cb3 \strokec11 .\cb3 \strokec6 textContent \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec12 ''\cb3 \strokec11 ;\cb3 \strokec6 \
            generateBtn\cb3 \strokec11 .\cb3 \strokec6 disabled \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec10 true\cb3 \strokec11 ;\cb3 \strokec6 \
            generateBtn\cb3 \strokec11 .\cb3 \strokec6 textContent \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec12 '\uc0\u29983 \u25104 \u20013 ...'\cb3 \strokec11 ;\cb3 \strokec6 \
            loader\cb3 \strokec11 .\cb3 \strokec6 classList\cb3 \strokec11 .\cb3 \strokec6 remove\cb3 \strokec11 (\cb3 \strokec12 'hidden'\cb3 \strokec11 );\cb3 \strokec6 \
            loader\cb3 \strokec11 .\cb3 \strokec6 classList\cb3 \strokec11 .\cb3 \strokec6 add\cb3 \strokec11 (\cb3 \strokec12 'flex'\cb3 \strokec11 );\cb3 \strokec6 \
            resultContainer\cb3 \strokec11 .\cb3 \strokec6 classList\cb3 \strokec11 .\cb3 \strokec6 add\cb3 \strokec11 (\cb3 \strokec12 'hidden'\cb3 \strokec11 );\cb3 \strokec6 \
            resultImage\cb3 \strokec11 .\cb3 \strokec6 src \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec12 ''\cb3 \strokec11 ;\cb3 \strokec6 \
\
            \cb3 \strokec10 try\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                \cb3 \strokec9 // Step 1: Optimize the user prompt into a detailed English prompt.\cb3 \strokec6 \
                \cb3 \strokec10 const\cb3 \strokec6  optimizationPromptText \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec12 `\cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec12                     Please translate and expand the following user request into a detailed, high-quality English prompt for an image generation model. \cb3 \strokec6 \
\cb3 \strokec12                     The goal is to create a manga cover that perfectly captures the style of "Crest of the Royal Family" (Ouke no Monshou / Daughter of the Nile) by Chieko Hosokawa.\cb3 \strokec6 \
\cb3 \strokec12                     The prompt must be very descriptive, including details about:\cb3 \strokec6 \
\cb3 \strokec12                     1.  **Character:** Describe the characters (like Carol and Memphis) with their iconic appearances. Carol with blonde hair and blue eyes, often in elegant white ancient Egyptian robes. Memphis as a powerful, handsome pharaoh with black hair, dark eyes, and royal attire. Focus on their expressions\'97dramatic, romantic, or regal.\cb3 \strokec6 \
\cb3 \strokec12                     2.  **Background:** The setting must be Ancient Egypt. Describe locations like the Nile River, a grand palace, desert landscapes with pyramids, or ornate temple interiors. Specify the atmosphere: romantic sunset, mysterious night, or bright sunny day.\cb3 \strokec6 \
\cb3 \strokec12                     3.  **Art Style:** This is crucial. Specify "classic 1970s sh\uc0\u333 jo manga style", "in the art style of Chieko Hosokawa's 'Crest of the Royal Family'", "detailed and ornate line art", "vintage anime aesthetic", "use of soft watercolors and screentones", "large expressive eyes with intricate details", and "dramatic, romantic composition". The art should feel nostalgic and classic.\cb3 \strokec6 \
\cb3 \strokec12                     4.  **Composition:** Mention dynamic and romantic poses, such as an embrace, looking into the distance together, or a majestic royal pose. Include elements like wind-swept hair and clothing, soft lighting, and decorative floral or patterned borders common in sh\uc0\u333 jo manga covers.\cb3 \strokec6 \
\
\cb3 \strokec12                     User Request: "\cb3 \strokec11 $\{\cb3 \strokec6 prompt\cb3 \strokec11 \}\cb3 \strokec12 "\cb3 \strokec6 \
\
\cb3 \strokec12                     Return ONLY the final, optimized English prompt, ready for the image model.\cb3 \strokec6 \
\cb3 \strokec12                 `\cb3 \strokec11 ;\cb3 \strokec6 \
                \
                \cb3 \strokec10 let\cb3 \strokec6  chatHistory \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec11 [\{\cb3 \strokec6  role\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec12 "user"\cb3 \strokec11 ,\cb3 \strokec6  parts\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec11 [\{\cb3 \strokec6  text\cb3 \strokec11 :\cb3 \strokec6  optimizationPromptText \cb3 \strokec11 \}]\cb3 \strokec6  \cb3 \strokec11 \}];\cb3 \strokec6 \
                \cb3 \strokec10 const\cb3 \strokec6  payloadForOptimization \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6  contents\cb3 \strokec11 :\cb3 \strokec6  chatHistory \cb3 \strokec11 \};\cb3 \strokec6 \
                \cb3 \strokec10 const\cb3 \strokec6  apiKey \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec12 ""\cb3 \strokec11 ;\cb3 \strokec6  \cb3 \strokec9 // API key is handled by the environment\cb3 \strokec6 \
                \cb3 \strokec10 const\cb3 \strokec6  apiUrlForOptimization \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec12 `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=\cb3 \strokec11 $\{\cb3 \strokec6 apiKey\cb3 \strokec11 \}\cb3 \strokec12 `\cb3 \strokec11 ;\cb3 \strokec6 \
                \
                \cb3 \strokec10 const\cb3 \strokec6  optimizationResponse \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec10 await\cb3 \strokec6  fetch\cb3 \strokec11 (\cb3 \strokec6 apiUrlForOptimization\cb3 \strokec11 ,\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                    method\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec12 'POST'\cb3 \strokec11 ,\cb3 \strokec6 \
                    headers\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6  \cb3 \strokec12 'Content-Type'\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec12 'application/json'\cb3 \strokec6  \cb3 \strokec11 \},\cb3 \strokec6 \
                    body\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec14 JSON\cb3 \strokec11 .\cb3 \strokec6 stringify\cb3 \strokec11 (\cb3 \strokec6 payloadForOptimization\cb3 \strokec11 )\cb3 \strokec6 \
                \cb3 \strokec11 \});\cb3 \strokec6 \
\
                \cb3 \strokec10 if\cb3 \strokec6  \cb3 \strokec11 (!\cb3 \strokec6 optimizationResponse\cb3 \strokec11 .\cb3 \strokec6 ok\cb3 \strokec11 )\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                    \cb3 \strokec10 throw\cb3 \strokec6  \cb3 \strokec10 new\cb3 \strokec6  \cb3 \strokec14 Error\cb3 \strokec11 (\cb3 \strokec12 '\uc0\u20778 \u21270 \u25552 \u31034 \u35422 \u26178 \u30332 \u29983 \u37679 \u35492 \u12290 '\cb3 \strokec11 );\cb3 \strokec6 \
                \cb3 \strokec11 \}\cb3 \strokec6 \
\
                \cb3 \strokec10 const\cb3 \strokec6  optimizationResult \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec10 await\cb3 \strokec6  optimizationResponse\cb3 \strokec11 .\cb3 \strokec6 json\cb3 \strokec11 ();\cb3 \strokec6 \
                \
                \cb3 \strokec10 if\cb3 \strokec6  \cb3 \strokec11 (!\cb3 \strokec6 optimizationResult\cb3 \strokec11 .\cb3 \strokec6 candidates \cb3 \strokec11 ||\cb3 \strokec6  \cb3 \strokec11 !\cb3 \strokec6 optimizationResult\cb3 \strokec11 .\cb3 \strokec6 candidates\cb3 \strokec11 [\cb3 \strokec15 0\cb3 \strokec11 ].\cb3 \strokec6 content\cb3 \strokec11 .\cb3 \strokec6 parts\cb3 \strokec11 [\cb3 \strokec15 0\cb3 \strokec11 ].\cb3 \strokec6 text\cb3 \strokec11 )\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                    \cb3 \strokec10 throw\cb3 \strokec6  \cb3 \strokec10 new\cb3 \strokec6  \cb3 \strokec14 Error\cb3 \strokec11 (\cb3 \strokec12 '\uc0\u28961 \u27861 \u24478  AI \u29554 \u21462 \u20778 \u21270 \u24460 \u30340 \u25552 \u31034 \u35422 \u12290 '\cb3 \strokec11 );\cb3 \strokec6 \
                \cb3 \strokec11 \}\cb3 \strokec6 \
                \
                \cb3 \strokec10 const\cb3 \strokec6  generatedOptimizedPrompt \cb3 \strokec11 =\cb3 \strokec6  optimizationResult\cb3 \strokec11 .\cb3 \strokec6 candidates\cb3 \strokec11 [\cb3 \strokec15 0\cb3 \strokec11 ].\cb3 \strokec6 content\cb3 \strokec11 .\cb3 \strokec6 parts\cb3 \strokec11 [\cb3 \strokec15 0\cb3 \strokec11 ].\cb3 \strokec6 text\cb3 \strokec11 .\cb3 \strokec6 trim\cb3 \strokec11 ();\cb3 \strokec6 \
                \
                \cb3 \strokec9 // Step 2: Generate the image using the optimized prompt.\cb3 \strokec6 \
                \cb3 \strokec10 const\cb3 \strokec6  payloadForImage \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                    instances\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec11 [\{\cb3 \strokec6  prompt\cb3 \strokec11 :\cb3 \strokec6  generatedOptimizedPrompt \cb3 \strokec11 \}],\cb3 \strokec6 \
                    parameters\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                        sampleCount\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec15 1\cb3 \strokec11 ,\cb3 \strokec6 \
                        aspectRatio\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec12 "9:16"\cb3 \strokec6 \
                    \cb3 \strokec11 \}\cb3 \strokec6 \
                \cb3 \strokec11 \};\cb3 \strokec6 \
                \
                \cb3 \strokec10 const\cb3 \strokec6  apiUrlForImage \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec12 `https://generativelanguage.googleapis.com/v1beta/models/imagen-3.0-generate-002:predict?key=\cb3 \strokec11 $\{\cb3 \strokec6 apiKey\cb3 \strokec11 \}\cb3 \strokec12 `\cb3 \strokec11 ;\cb3 \strokec6 \
                \
                \cb3 \strokec10 const\cb3 \strokec6  imageResponse \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec10 await\cb3 \strokec6  fetch\cb3 \strokec11 (\cb3 \strokec6 apiUrlForImage\cb3 \strokec11 ,\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                    method\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec12 'POST'\cb3 \strokec11 ,\cb3 \strokec6 \
                    headers\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6  \cb3 \strokec12 'Content-Type'\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec12 'application/json'\cb3 \strokec6  \cb3 \strokec11 \},\cb3 \strokec6 \
                    body\cb3 \strokec11 :\cb3 \strokec6  \cb3 \strokec14 JSON\cb3 \strokec11 .\cb3 \strokec6 stringify\cb3 \strokec11 (\cb3 \strokec6 payloadForImage\cb3 \strokec11 )\cb3 \strokec6 \
                \cb3 \strokec11 \});\cb3 \strokec6 \
                \
                \cb3 \strokec10 if\cb3 \strokec6  \cb3 \strokec11 (!\cb3 \strokec6 imageResponse\cb3 \strokec11 .\cb3 \strokec6 ok\cb3 \strokec11 )\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                    \cb3 \strokec10 throw\cb3 \strokec6  \cb3 \strokec10 new\cb3 \strokec6  \cb3 \strokec14 Error\cb3 \strokec11 (\cb3 \strokec12 '\uc0\u29983 \u25104 \u22294 \u29255 \u26178 \u30332 \u29983 \u37679 \u35492 \u12290 '\cb3 \strokec11 );\cb3 \strokec6 \
                \cb3 \strokec11 \}\cb3 \strokec6 \
\
                \cb3 \strokec10 const\cb3 \strokec6  imageResult \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec10 await\cb3 \strokec6  imageResponse\cb3 \strokec11 .\cb3 \strokec6 json\cb3 \strokec11 ();\cb3 \strokec6 \
\
                \cb3 \strokec10 if\cb3 \strokec6  \cb3 \strokec11 (\cb3 \strokec6 imageResult\cb3 \strokec11 .\cb3 \strokec6 predictions \cb3 \strokec11 &&\cb3 \strokec6  imageResult\cb3 \strokec11 .\cb3 \strokec6 predictions\cb3 \strokec11 .\cb3 \strokec6 length \cb3 \strokec11 >\cb3 \strokec6  \cb3 \strokec15 0\cb3 \strokec6  \cb3 \strokec11 &&\cb3 \strokec6  imageResult\cb3 \strokec11 .\cb3 \strokec6 predictions\cb3 \strokec11 [\cb3 \strokec15 0\cb3 \strokec11 ].\cb3 \strokec6 bytesBase64Encoded\cb3 \strokec11 )\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                    \cb3 \strokec10 const\cb3 \strokec6  generatedImageUrl \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec12 `data:image/png;base64,\cb3 \strokec11 $\{\cb3 \strokec6 imageResult\cb3 \strokec11 .\cb3 \strokec6 predictions\cb3 \strokec11 [\cb3 \strokec15 0\cb3 \strokec11 ].\cb3 \strokec6 bytesBase64Encoded\cb3 \strokec11 \}\cb3 \strokec12 `\cb3 \strokec11 ;\cb3 \strokec6 \
                    \cb3 \strokec9 // Display the results\cb3 \strokec6 \
                    resultImage\cb3 \strokec11 .\cb3 \strokec6 src \cb3 \strokec11 =\cb3 \strokec6  generatedImageUrl\cb3 \strokec11 ;\cb3 \strokec6 \
                    optimizedPrompt\cb3 \strokec11 .\cb3 \strokec6 textContent \cb3 \strokec11 =\cb3 \strokec6  generatedOptimizedPrompt\cb3 \strokec11 ;\cb3 \strokec6 \
                    resultContainer\cb3 \strokec11 .\cb3 \strokec6 classList\cb3 \strokec11 .\cb3 \strokec6 remove\cb3 \strokec11 (\cb3 \strokec12 'hidden'\cb3 \strokec11 );\cb3 \strokec6 \
                \cb3 \strokec11 \}\cb3 \strokec6  \cb3 \strokec10 else\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                    \cb3 \strokec10 throw\cb3 \strokec6  \cb3 \strokec10 new\cb3 \strokec6  \cb3 \strokec14 Error\cb3 \strokec11 (\cb3 \strokec12 '\uc0\u22294 \u29255 \u29983 \u25104 \u22833 \u25943 \u65292 \u26410 \u25910 \u21040 \u26377 \u25928 \u30340 \u22294 \u29255 \u36039 \u26009 \u12290 '\cb3 \strokec11 );\cb3 \strokec6 \
                \cb3 \strokec11 \}\cb3 \strokec6 \
\
            \cb3 \strokec11 \}\cb3 \strokec6  \cb3 \strokec10 catch\cb3 \strokec6  \cb3 \strokec11 (\cb3 \strokec6 err\cb3 \strokec11 )\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                errorMessage\cb3 \strokec11 .\cb3 \strokec6 textContent \cb3 \strokec11 =\cb3 \strokec6  err\cb3 \strokec11 .\cb3 \strokec6 message \cb3 \strokec11 ||\cb3 \strokec6  \cb3 \strokec12 '\uc0\u30332 \u29983 \u26410 \u30693 \u37679 \u35492 \u65292 \u35531 \u31245 \u24460 \u20877 \u35430 \u12290 '\cb3 \strokec11 ;\cb3 \strokec6 \
                console\cb3 \strokec11 .\cb3 \strokec6 error\cb3 \strokec11 (\cb3 \strokec6 err\cb3 \strokec11 );\cb3 \strokec6 \
            \cb3 \strokec11 \}\cb3 \strokec6  \cb3 \strokec10 finally\cb3 \strokec6  \cb3 \strokec11 \{\cb3 \strokec6 \
                \cb3 \strokec9 // Re-enable the button and hide the loader\cb3 \strokec6 \
                generateBtn\cb3 \strokec11 .\cb3 \strokec6 disabled \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec10 false\cb3 \strokec11 ;\cb3 \strokec6 \
                generateBtn\cb3 \strokec11 .\cb3 \strokec6 textContent \cb3 \strokec11 =\cb3 \strokec6  \cb3 \strokec12 '\uc0\u38283 \u22987 \u29983 \u25104 \u23553 \u38754 '\cb3 \strokec11 ;\cb3 \strokec6 \
                loader\cb3 \strokec11 .\cb3 \strokec6 classList\cb3 \strokec11 .\cb3 \strokec6 add\cb3 \strokec11 (\cb3 \strokec12 'hidden'\cb3 \strokec11 );\cb3 \strokec6 \
                loader\cb3 \strokec11 .\cb3 \strokec6 classList\cb3 \strokec11 .\cb3 \strokec6 remove\cb3 \strokec11 (\cb3 \strokec12 'flex'\cb3 \strokec11 );\cb3 \strokec6 \
            \cb3 \strokec11 \}\cb3 \strokec6 \
        \cb3 \strokec11 \};\cb3 \strokec6 \
\
        \cb3 \strokec9 // Add a click event listener to the button\cb3 \strokec6 \
        generateBtn\cb3 \strokec11 .\cb3 \strokec6 addEventListener\cb3 \strokec11 (\cb3 \strokec12 'click'\cb3 \strokec11 ,\cb3 \strokec6  handleGenerate\cb3 \strokec11 );\cb3 \strokec6 \
    \cb3 \strokec7 </\cb3 \strokec4 script\cb3 \strokec7 >\cb3 \strokec6 \
\pard\pardeftab720\partightenfactor0
\cf2 \cb3 \strokec7 </\cb3 \strokec4 body\cb3 \strokec7 >\cb3 \strokec6 \
\cb3 \strokec7 </\cb3 \strokec4 html\cb3 \strokec7 >\cb3 \strokec6 \
\
}